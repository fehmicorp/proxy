{
  "_id": {
    "$oid": "694bb83eed686bffb23f944b"
  },
  "status": "active",
  "type": "auth",
  "module": "accounts",
  "route": "/auth/login",
  "methods": [
    "POST"
  ],
  "dbConf": "692d543f6d4eec947179d1cb",
  "security": {
    "authRequired": false,
    "jwt": {
      "enabled": true,
      "secretSource": "dynamic",
      "expire": "2h",
      "refresh": {
        "enabled": true,
        "expire": "7d"
      },
      "payloadMap": {
        "uid": "uidp",
        "name": "fullname",
        "roles": "roles"
      }
    },
    "cookie": {
      "enabled": true,
      "name": "accounts_token",
      "httpOnly": true,
      "secure": true,
      "sameSite": "strict",
      "path": "/"
    },
    "rateLimit": {
      "enabled": true,
      "max": 5,
      "window": "15m"
    }
  },
  "cors": {
    "enabled": true,
    "origin": [
      "https://accounts.fehmi.in"
    ],
    "methods": [
      "GET",
      "POST"
    ],
    "headers": [
      "Content-Type",
      "Authorization"
    ],
    "credentials": true,
    "maxAge": 86400
  },
  "headers": {
    "request": [
      "authorization",
      "x-device-id"
    ],
    "response": {
      "X-Powered-By": "Fehmi-API"
    }
  },
  "input": {
    "required": [
      "username"
    ],
    "auth": {
      "password": "passwordhash"
    },
    "map": {
      "username": [
        "username",
        "email",
        "mobnumber"
      ]
    }
  },
  "query": {
    "engine": "graphql",
    "arguments": {
      "select": "[String!]",
      "limit": "Int",
      "offset": "Int",
      "sortBy": "String",
      "sortOrder": "String",
      "filter": "JSON"
    },
    "resolver": {
      "engine": "sql",
      "type": "FETCH_LIST",

      "table": "emails",

      "columns": {
        "allowed": [
          "id",
          "email",
          "status",
          "created_at",
          "updated_at"
        ],
        "default": [
          "id",
          "email",
          "status"
        ]
      },

      "pagination": {
        "limit": {
          "default": 25,
          "max": 100
        },
        "offset": {
          "default": 0
        }
      },

      "sorting": {
        "columns": {
          "allowed": [
            "id",
            "email",
            "created_at",
            "updated_at"
          ],
          "default": "created_at"
        },
        "order": {
          "allowed": ["ASC", "DESC"],
          "default": "DESC"
        }
      },

      "filter": {
        "allowed": [
          "status",
          "email",
          "created_at"
        ]
      }
    },

    "response": {
      "shape": {
        "rows": "@result",
        "meta": {
          "count": "@meta.total",
          "limit": "@meta.limit",
          "offset": "@meta.offset",
          "sortBy": "@meta.sortBy",
          "sortOrder": "@meta.sortOrder"
        }
      }
    }    
  },
  "response": {
    "hide": [
      "passwordhash"
    ],
    "include": [
      "user",
      "jwt"
    ],
    "onFailure": {
      "message": "Invalid credentials"
    }
  },
  "audit": {
    "enabled": true,
    "collection": "auth_logs",
    "fields": [
      "ip",
      "userAgent",
      "time"
    ]
  },
  "limit": 1000,
  "createdAt": {
    "$date": "2025-07-22T10:00:00.000Z"
  }
}